<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>项目篇-项目梳理（Vue3+TS实现后台管理系统） | Melon_Nie的月光橘海</title><meta name="author" content="Melon_Nie"><meta name="copyright" content="Melon_Nie"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="项目梳理回顾+用STAR法则讲解模块">
<meta property="og:type" content="article">
<meta property="og:title" content="项目篇-项目梳理（Vue3+TS实现后台管理系统）">
<meta property="og:url" content="http://example.com/2025/06/04/23-myselfUp/index.html">
<meta property="og:site_name" content="Melon_Nie的月光橘海">
<meta property="og:description" content="项目梳理回顾+用STAR法则讲解模块">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/myimg/lolcute12.png">
<meta property="article:published_time" content="2025-06-04T02:03:23.000Z">
<meta property="article:modified_time" content="2025-06-19T02:15:11.746Z">
<meta property="article:author" content="Melon_Nie">
<meta property="article:tag" content="面试题">
<meta property="article:tag" content="vue">
<meta property="article:tag" content="项目">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/myimg/lolcute12.png"><link rel="shortcut icon" href="/./myimg/cake.png"><link rel="canonical" href="http://example.com/2025/06/04/23-myselfUp/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '项目篇-项目梳理（Vue3+TS实现后台管理系统）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/./myimg/avatar1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">55</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(./myimg/lolcute12.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Melon_Nie的月光橘海</span></a><a class="nav-page-title" href="/"><span class="site-name">项目篇-项目梳理（Vue3+TS实现后台管理系统）</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">项目篇-项目梳理（Vue3+TS实现后台管理系统）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-06-04T02:03:23.000Z" title="发表于 2025-06-04 10:03:23">2025-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-19T02:15:11.746Z" title="更新于 2025-06-19 10:15:11">2025-06-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue/">vue</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>项目主要功能虽然都做完了，但是发现不会把它写在简历上，换句话说，我不知道如何介绍项目的功能与实现，这篇文章是我对项目的的梳理<br>完整的项目笔记见<a target="_blank" rel="noopener" href="https://nie7-melon.github.io/2025/04/15/23-nievuets/">vue3+t后台管理系统项目笔记</a></p>
<h2 id="项目STAR法则："><a href="#项目STAR法则：" class="headerlink" title="项目STAR法则："></a>项目STAR法则：</h2><p><strong>最好的技术表达，不是复述工具名称，而是说清：你为何这样选择，以及它解决了什么问题</strong><br>(感谢大模型老师对我学习STAR法则的帮助)</p>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><p><strong>核心框架和工具：</strong><br>Vue 3<br>TypeScript<br>pnpm 包管理器<br>Vite 构建工具<br>Pinia 状态管理<br>Vue Router 路由管理<br><strong>UI 框架：</strong><br>Element Plus<br><strong>其他重要依赖：</strong><br>axios HTTP请求<br>echarts 图表库<br>countup.js 数字动画<br>dayjs 日期处理</p>
<h1 id="登录模块"><a href="#登录模块" class="headerlink" title="登录模块"></a>登录模块</h1><h2 id="核心实现"><a href="#核心实现" class="headerlink" title="核心实现"></a>核心实现</h2><ol>
<li><p><strong>Element Plus组件化登录架构</strong>  </p>
<ul>
<li>采用组件化思想拆解登录页为<code>登录面板容器</code>+<code>账号登录</code>+<code>手机登录</code>三大模块</li>
<li>采用<code>el-tabs</code>实现账号&#x2F;手机登录模式切换，通过<code>v-model=&quot;activeName&quot;</code>动态控制激活面板</li>
<li><code>el-link</code> <code>el-checkbox</code> <code>el-button</code> <code>el-message</code> <code>el-icon</code> + 按需引入配置</li>
</ul>
</li>
<li><p><strong>账号密码表单校验</strong>  </p>
<ul>
<li>基于<code>el-form</code>+<code>el-input</code>组件构建表单体系，配置可扩展的<code>rules</code>验证规则集</li>
</ul>
</li>
<li><p><strong>组件通信机制</strong>  </p>
<ul>
<li>通过<code>defineExpose</code>暴露子组件方法，实现父组件触发登录验证，解决父子组件通信问题</li>
</ul>
</li>
<li><p><strong>类型抽取与token常量安全</strong>  </p>
<ul>
<li>抽离<code>IAccount</code>核心对象类型，便于复用，约束账号密码结构</li>
<li>用常量管理关键字段（如<code>LOGIN_TOKEN</code>），降低维护成本</li>
</ul>
</li>
<li><p><strong>Token保存与Cache封装</strong></p>
<ul>
<li>设计<code>localStorage + Pinia</code>双缓存持久化Token </li>
<li>封装通用缓存工具类<code>cache.ts</code>，实现<code>JSON.stringify()``	JSON.parse()</code>自动处理对象数据，提升代码复用性与健壮性</li>
</ul>
</li>
</ol>
<h1 id="权限管理模块"><a href="#权限管理模块" class="headerlink" title="权限管理模块"></a>权限管理模块</h1><h2 id="核心实现："><a href="#核心实现：" class="headerlink" title="核心实现："></a>核心实现：</h2><ol>
<li><strong>通过 Axios 请求拦截器自动携带 token</strong><ul>
<li>避免手动添加 token 的冗余操作，提升开发效率</li>
</ul>
</li>
<li><strong>导航守卫设计</strong><ul>
<li>校验<code>/main</code>开头的路径，未登录用户强制跳转至登录页，防止越权访问\</li>
</ul>
</li>
<li><strong>用户-角色-菜单映射机制</strong><ul>
<li>登录成功后，先根据用户ID获取用户信息，再通过角色ID请求菜单数据</li>
<li>对用户的userInfo和userMenu数据进行本地缓存和store缓存</li>
</ul>
</li>
<li><strong>动态路由(基于菜单管理)</strong><ul>
<li>通过<code>mapMenusToRoutes</code>工具将菜单路径转换为路由对象</li>
<li>使用<code>addRoute</code>动态将子路由添加到main路由下，实现不同角色加载不同菜单与路由</li>
</ul>
</li>
</ol>
<h3 id="STAR法则描述："><a href="#STAR法则描述：" class="headerlink" title="STAR法则描述："></a>STAR法则描述：</h3><p><strong>S（Situation）- 项目背景</strong><br>系统需要实现基于角色的权限控制，用户登录后需根据角色动态加载菜单与路由，并保障敏感页面的访问权限<br><strong>T（Task） - 任务目标</strong><br>认证与权限校验：登录成功后自动携带token，拦截无权限访问；<br>动态路由生成：根据用户角色加载对应的菜单与路由；<br>数据持久化：缓存用户信息与菜单数据，避免重复请求<br><strong>A（Action） - 技术实现</strong></p>
<ul>
<li><strong>Token 拦截与权限校验</strong></li>
<li><ul>
<li>登录成功后通过 Axios 拦截器自动携带 token，确保后续请求权限校验；</li>
</ul>
</li>
<li><ul>
<li>在 router.beforeEach 中校验 &#x2F;main 开头的路径，未登录用户重定向至登录页。</li>
</ul>
</li>
<li><strong>RBAC 权限控制</strong></li>
<li><ul>
<li>用户信息获取：根据用户 ID 请求用户详情（含角色 ID）；</li>
</ul>
</li>
<li><ul>
<li>菜单权限加载：通过角色 ID 获取菜单数据（userMenus），结合 mapMenusToRoutes 将菜单路径映射为路由对象；</li>
</ul>
</li>
<li><ul>
<li>动态路由添加：使用 Vue Router 的 addRoute 方法将路由动态添加到 main 路由下。</li>
</ul>
</li>
<li><ul>
<li>数据缓存与状态管理<br>用户信息和菜单数据通过 Pinia 存储到 loginStore，并通过 localStorage 持久化，确保页面刷新后状态不丢失。<br><strong>R（Result） - 成果与价值</strong></li>
</ul>
</li>
<li>实现按角色动态加载菜单与路由，不同用户访问权限隔离；</li>
<li>权限实时性：切换角色时自动刷新路由，保障权限一致性；</li>
<li>开发效率提升：新增菜单只需维护文件结构，无需手动修改路由配置</li>
</ul>
<h1 id="动态路由权限系统"><a href="#动态路由权限系统" class="headerlink" title="动态路由权限系统"></a>动态路由权限系统</h1><p><strong>技术栈</strong>：Vue Router + Vite Glob API + 递归算法  </p>
<h2 id="核心实现-1"><a href="#核心实现-1" class="headerlink" title="核心实现"></a>核心实现</h2><ol>
<li><strong>自动化路由收集</strong>  <ul>
<li>使用 Vite 的 <code>import.meta.glob</code> 动态加载路由模块：  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">     <span class="keyword">const</span> files = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="title function_">glob</span>(<span class="string">&#x27;../router/main/**/*.ts&#x27;</span>, &#123; <span class="attr">eager</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> files) &#123;</span><br><span class="line">       localRoutes.<span class="title function_">push</span>(files[key].<span class="property">default</span>)</span><br><span class="line">     &#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">   - 实现路由模块 **零手工注册**，新增路由文件自动识别  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. **智能路由映射**  </span></span><br><span class="line"><span class="string">   - 递归匹配用户菜单与本地路由路径：  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span> ts</span><br><span class="line">     <span class="keyword">const</span> route = localRoutes.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">path</span> === submenu.<span class="property">url</span>)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   - 双层级路由注入策略：  </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>ts</span><br><span class="line">     <span class="comment">// 一级菜单重定向</span></span><br><span class="line">     routes.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: menu.<span class="property">url</span>, <span class="attr">redirect</span>: route.<span class="property">path</span> &#125;)</span><br><span class="line">     <span class="comment">// 二级菜单路由</span></span><br><span class="line">     routes.<span class="title function_">push</span>(route)</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. **路由辅助工具集**  </span></span><br><span class="line"><span class="string">   - **路径映射菜单**：`</span><span class="title function_">mapPathToMenu</span>()<span class="string">` 实现路由高亮联动  </span></span><br><span class="line"><span class="string">   - **智能面包屑**：`</span><span class="title function_">mapPathToBreadcrumbs</span>()<span class="string">` 自动生成导航路径  </span></span><br><span class="line"><span class="string">   - **权限ID提取**：`</span><span class="title function_">mapMenuListToIds</span>()<span class="string">` 递归获取叶子节点ID  </span></span><br><span class="line"><span class="string">   - **按钮权限控制**：`</span><span class="title function_">mapMenusToPermissions</span>()<span class="string">` 筛选 type=3 权限标识  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">4. **首屏优化机制**  </span></span><br><span class="line"><span class="string">   - 记录 `</span>firstMenu<span class="string">` 实现首页自动重定向  </span></span><br><span class="line"><span class="string">   - 避免用户登录后卡在空白主页  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 动态路由：</span></span><br><span class="line"><span class="string">**基于角色的动态路由**：缺点添加角色要重新生成新的角色对应菜单数组，前端不好生成。</span></span><br><span class="line"><span class="string">**采用基于菜单的动态路由**：根据菜单动态添加（动态渲染菜单，再根据菜单动态添加路由）</span></span><br><span class="line"><span class="string">在router/main文件夹下按照路径创建每个子文件夹，和页面的组织路径一致，每个里面只放单独的对象并导出。路由和页面路径组织一致</span></span><br><span class="line"><span class="string">ts中路由对象数据类型RouterRecordRaw[]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">具体菜单转路由的实现封装在了工具类utils/map-menus.ts的`</span>mapMenusToRoutes<span class="string">`方法中</span></span><br><span class="line"><span class="string">&gt; 1. 获取菜单</span></span><br><span class="line"><span class="string">&gt; 2. 动态获取所有路由对象（目前路由对象都在独立的文件中），从文件中将所有的路由对象先读取到数组中</span></span><br><span class="line"><span class="string">&gt; 3. 根据菜单去匹配正确的路由`</span>router.<span class="title function_">add</span>(<span class="string">&#x27;main&#x27;</span>,xxx)<span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 首页模块</span></span><br><span class="line"><span class="string">技术栈</span></span><br><span class="line"><span class="string">## 核心实现：</span></span><br><span class="line"><span class="string">1. **组件化首页布局设计**</span></span><br><span class="line"><span class="string">   - 整体布局ElContainer； 侧边栏菜单Menu组件；头部Header组件</span></span><br><span class="line"><span class="string">2. **组件化菜单交互机制**</span></span><br><span class="line"><span class="string">   - 通过Header子组件的图标的切换，实现动态控制菜单组件的折叠与展开</span></span><br><span class="line"><span class="string">   - 父子组件通信：Header组件通过`</span>defineEmits<span class="string">`触发折叠事件，父组件监听事件并更新折叠状态`</span>isFold<span class="string">`</span></span><br><span class="line"><span class="string">   - 父组件根据`</span>isFold<span class="string">`状态控制菜单组件的宽度</span></span><br><span class="line"><span class="string">   - 父子组件通信：父组件通过`</span>props<span class="string">`将`</span>isFold<span class="string">`传递给Menu子组件，控制`</span>el-menu<span class="string">`的`</span>collapse<span class="string">`属性实现折叠与展开</span></span><br><span class="line"><span class="string">3. **菜单与路由动态绑定**</span></span><br><span class="line"><span class="string">   - 实现菜单点击与页面跳转的无缝衔接,通过router.push(submenu.url)跳转</span></span><br><span class="line"><span class="string">### STAR法则描述：</span></span><br><span class="line"><span class="string">**S（Situation） - 项目背景**</span></span><br><span class="line"><span class="string">需要构建可交互的首页界面，包含侧边栏菜单、头部导航及动态折叠功能，提升用户体验。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**T（Task） - 任务目标**</span></span><br><span class="line"><span class="string">首页布局搭建：使用 ElContainer 构建容器布局；</span></span><br><span class="line"><span class="string">菜单动态渲染：根据 userMenus 动态生成侧边栏菜单；</span></span><br><span class="line"><span class="string">菜单折叠交互：通过组件通信实现菜单的折叠/展开控制。</span></span><br><span class="line"><span class="string">**A（Action） - 技术实现**</span></span><br><span class="line"><span class="string">- 首页布局设计</span></span><br><span class="line"><span class="string">  使用ElContainer 分为三部分：Header（顶部导航）；Aside（侧边栏菜单）；Main（内容区域）</span></span><br><span class="line"><span class="string">- 动态菜单渲染</span></span><br><span class="line"><span class="string">  菜单数据驱动：通过 v-for 遍历 userMenus 动态生成菜单项；</span></span><br><span class="line"><span class="string">  菜单嵌套结构：使用 el-menu 和 el-sub-menu 实现多级菜单。</span></span><br><span class="line"><span class="string">- 菜单折叠交互</span></span><br><span class="line"><span class="string">  Header 组件：声明 isFold 状态，通过 emit(&#x27;fold-change&#x27;) 通知父组件折叠状态；</span></span><br><span class="line"><span class="string">  父组件（main.vue）：监听 fold-change 事件，动态调整 aside 宽度（60px 折叠 / 210px 展开）；</span></span><br><span class="line"><span class="string">  Menu 组件：接收 isFold 属性，通过 `</span>:collapse=<span class="string">&quot;isFold&quot;</span><span class="string">` 控制菜单折叠状态；</span></span><br><span class="line"><span class="string">  图标切换优化：使用动态组件 `</span>&lt;component :is=<span class="string">&quot;isFold ? &#x27;Expand&#x27; : &#x27;Fold&#x27;&quot;</span> /&gt;<span class="string">` 根据 isFold 显示不同图标，减少冗余代码。</span></span><br><span class="line"><span class="string">**R（Result） - 成果与价值**</span></span><br><span class="line"><span class="string">- 布局灵活性：通过 ElContainer 快速搭建响应式首页结构；</span></span><br><span class="line"><span class="string">- 交互流畅性：菜单折叠/展开操作流畅，提升用户体验；</span></span><br><span class="line"><span class="string">- 组件解耦：通过 props 和 emit 实现组件间通信，代码结构清晰。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 项目架构优化：组件复用与网络请求封装</span></span><br><span class="line"><span class="string">## 核心实现：</span></span><br><span class="line"><span class="string">1. **网络请求三层复用架构**</span></span><br><span class="line"><span class="string">- 三层架构：页面 → Store → Service</span></span><br><span class="line"><span class="string">- 页面层：通过pageName参数传递业务标识（如users/departments），触发增删查改操作</span></span><br><span class="line"><span class="string">- Store 层：统一管理请求逻辑，携带pageName调用 Service</span></span><br><span class="line"><span class="string">- Service 层：基于pageName动态拼接 URL，实现接口通用化</span></span><br><span class="line"><span class="string">通过 config.ts 传递 pageName，实现不同业务模块的请求复用</span></span><br><span class="line"><span class="string">2. **高阶组件复用方案**</span></span><br><span class="line"><span class="string">- 消除重复代码：将搜索表单、表格内容、操作按钮等通用组件抽离为可配置组件</span></span><br><span class="line"><span class="string">- Search 组件：动态生成搜索表单（支持 Input / 日期选择等组件）</span></span><br><span class="line"><span class="string">- Content 组件：动态渲染表格列（支持自定义插槽、操作列）</span></span><br><span class="line"><span class="string">- Modal 组件：通过配置文件定义表单字段及联动逻辑</span></span><br><span class="line"><span class="string">- 动态配置驱动：通过search.config.ts和content.config.ts定义不同模块页面的展示规则</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### STAR法则描述：</span></span><br><span class="line"><span class="string">**Situation（情境）**</span></span><br><span class="line"><span class="string">在项目初期，存在以下痛点：</span></span><br><span class="line"><span class="string">- **重复开发问题**：用户/部门/角色等模块功能相似，但代码高度重复（搜索表单、表格、操作逻辑等均需手动复制粘贴）。</span></span><br><span class="line"><span class="string">- **接口不规范**：不同业务模块的接口 URL 差异大，导致请求逻辑分散且难以维护。</span></span><br><span class="line"><span class="string">- **开发效率低**：每次新增模块需重新编写通用功能（如分页查询、表单校验），耗时且易出错。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Task（任务）**</span></span><br><span class="line"><span class="string">目标是通过架构优化实现以下改进：</span></span><br><span class="line"><span class="string">1. **统一网络请求逻辑**：封装通用请求层，支持多业务模块复用。</span></span><br><span class="line"><span class="string">2. **组件化开发**：将通用功能（搜索、表格、表单）抽象为可配置组件。</span></span><br><span class="line"><span class="string">3. **动态配置驱动**：通过配置文件控制不同模块的展示规则，减少硬编码。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**Action（行动）**</span></span><br><span class="line"><span class="string">1. **网络请求三层架构设计**</span></span><br><span class="line"><span class="string">- **页面层**：通过 `</span>pageName<span class="string">` 参数标识业务模块（如 `</span>users<span class="string">`、`</span>departments<span class="string">`），触发增删改查操作。</span></span><br><span class="line"><span class="string">- **Store 层**：封装请求逻辑，接收 `</span>pageName<span class="string">` 并调用 Service 层接口，统一处理响应数据。</span></span><br><span class="line"><span class="string">- **Service 层**：动态拼接 URL（如 `</span>/$&#123;pageName&#125;/list<span class="string">`），实现接口通用化。</span></span><br><span class="line"><span class="string">- **动态配置**：通过 `</span>config.<span class="property">ts</span><span class="string">` 传递 `</span>pageName<span class="string">`，实现不同业务模块的请求复用。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>ts</span><br><span class="line"><span class="comment">// 示例：动态拼接 URL</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">postPageListData</span>(<span class="params"><span class="attr">pageName</span>: <span class="built_in">string</span>, <span class="attr">queryInfo</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> hyRequest.<span class="title function_">post</span>(<span class="string">`/<span class="subst">$&#123;pageName&#125;</span>/list`</span>, queryInfo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>高阶组件复用方案</strong></li>
</ol>
<ul>
<li><p><strong>Search 组件</strong>：  </p>
<ul>
<li>动态生成搜索表单（支持 <code>Input</code>、<code>DatePicker</code> 等组件），通过 <code>search.config.ts</code> 定义字段。</li>
<li>支持默认值、占位符、类型判断等配置项。</li>
</ul>
</li>
<li><p><strong>Content 组件</strong>：  </p>
<ul>
<li>动态渲染表格列（支持自定义插槽、操作列、时间格式化等）。</li>
<li>通过 <code>content.config.ts</code> 定义列名、数据类型、操作按钮逻辑。</li>
</ul>
</li>
<li><p><strong>Modal 组件</strong>：  </p>
<ul>
<li>通过配置文件定义表单字段及联动逻辑（如下拉选项动态获取部门列表）。</li>
</ul>
</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：动态配置搜索表单</span></span><br><span class="line"><span class="keyword">const</span> searchConfig = &#123;</span><br><span class="line">  <span class="attr">formItems</span>: [</span><br><span class="line">    &#123; <span class="attr">prop</span>: <span class="string">&#x27;name&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;部门名称&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">prop</span>: <span class="string">&#x27;createAt&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;date-picker&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;创建时间&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>动态配置驱动开发</strong></li>
</ol>
<ul>
<li>所有动态内容（表单字段、表格列、按钮文本）通过配置文件定义，无需修改组件代码。</li>
<li>通过 <code>ref</code> 和 <code>props</code> 实现组件间通信，统一处理查询、重置、新增、编辑等操作。</li>
</ul>
<ol start="4">
<li><strong>Hook 抽离与逻辑复用</strong></li>
</ol>
<ul>
<li>将兄弟组件通信逻辑（如 <code>handleQueryClick</code>、<code>handleEditClick</code>）抽离为 <code>usePageContent</code> Hook，提升代码复用性。</li>
</ul>
<p><strong>Result</strong></p>
<h3 id="1-开发效率显著提升"><a href="#1-开发效率显著提升" class="headerlink" title="1. 开发效率显著提升"></a>1. <strong>开发效率显著提升</strong></h3><ul>
<li>新增模块仅需编写 <code>xxx.vue</code> + 3 个配置文件（<code>search.config.ts</code>、<code>content.config.ts</code>、<code>modal.config.ts</code>）。</li>
<li>**开发时间减少 50%+**：通过复用组件和动态配置，避免重复开发通用功能。</li>
</ul>
<h3 id="2-维护成本大幅降低"><a href="#2-维护成本大幅降低" class="headerlink" title="2. 维护成本大幅降低"></a>2. <strong>维护成本大幅降低</strong></h3><ul>
<li>**网络请求复用率 &gt; 90%**：统一的三层架构适配所有业务模块。</li>
<li><strong>代码结构清晰</strong>：通过配置文件驱动 UI，业务逻辑与展示解耦，修改只需调整配置。</li>
</ul>
<h3 id="3-可扩展性增强"><a href="#3-可扩展性增强" class="headerlink" title="3. 可扩展性增强"></a>3. <strong>可扩展性增强</strong></h3><ul>
<li><strong>新增模块无需修改核心组件</strong>：仅需调整配置文件即可适配新需求。</li>
<li><strong>支持动态联动</strong>：如 Modal 中的下拉选项可动态获取部门数据，实现跨模块交互。</li>
</ul>
<h3 id="4-技术价值"><a href="#4-技术价值" class="headerlink" title="4. 技术价值"></a>4. <strong>技术价值</strong></h3><ul>
<li><strong>配置优先原则</strong>：所有动态内容通过配置文件驱动，符合现代前端工程化趋势。</li>
<li><strong>组件解耦设计</strong>：业务逻辑与 UI 展示分离，组件职责单一，易于测试与维护。</li>
</ul>
<h1 id="数据可视化模块"><a href="#数据可视化模块" class="headerlink" title="数据可视化模块"></a>数据可视化模块</h1><h2 id="核心实现：-1"><a href="#核心实现：-1" class="headerlink" title="核心实现："></a>核心实现：</h2><ol>
<li><strong>动态数据展示</strong><ul>
<li>轻量级库 CountUp.js 实现数字滚动效果（如商品销量从起始值平滑过渡至目标值）</li>
<li>支持自定义前缀（如人民币符号¥），通过配置项动态切换展示格式</li>
<li>使用 Element Plus Tooltip 组件，鼠标悬停时展示数据说明</li>
</ul>
</li>
<li><strong>ECharts图表三层封装</strong><ul>
<li>第一层封装：基础组件封装，统一图表初始化与更新逻辑</li>
<li>第二层封装：不同类型的echarts图标封装不同的子组件（如pie-echart，rose-echart）</li>
<li>第三层封装：抽离数据，把数据部分单独封装，传入第二层封装的options里（数据从service里面拿到，然后放到store里，再传到页面，页面再传递给它调用的组件里）</li>
</ul>
</li>
</ol>
<h3 id="STAR法则描述：-1"><a href="#STAR法则描述：-1" class="headerlink" title="STAR法则描述："></a>STAR法则描述：</h3><p><strong>Situation</strong></p>
<ul>
<li>数据展示需求：<br>需要构建一个 数据可视化仪表盘，展示商品销量、销售额等核心指标，并通过动态动画和图表增强数据表现力。</li>
<li>技术挑战：<br>静态数据问题：初期页面为静态展示，缺乏动态增长效果，用户体验单一。<br>图表开发重复：ECharts 图表需针对不同数据类型重复编写配置代码。<br>状态管理分散：数据从接口获取后未集中管理，导致页面逻辑复杂。<br><strong>Task项目目标</strong></li>
<li>实现动态数据可视化：<br>使用 CountUp.js 实现数字递增动画，增强用户感知。<br>通过 ECharts 展示饼图、柱状图等多类型图表。</li>
<li>组件化与复用：<br>封装通用图表组件，支持动态数据绑定。<br>通过 props 传递配置，实现组件灵活复用。</li>
<li>状态集中管理：<br>使用 Pinia Store 管理数据，分离数据获取与展示逻辑<br><strong>Action</strong></li>
</ul>
<ol>
<li>动态数字增长动画实现:<br>选择 CountUp.js（轻量级、无依赖）实现数字增长动画。</li>
<li>ECharts 图表封装<ul>
<li>三层封装架构：</li>
<li>基础组件（BaseECharts）：封装 echarts.init() 和通用配置，支持响应式更新。</li>
<li>图表类型组件（PieECharts, BarECharts）：针对不同图表类型扩展配置，示例（饼图组件）</li>
<li>数据驱动组件：通过 computed 计算图表配置项，并使用 watchEffect 监听数据变化：</li>
</ul>
</li>
<li>状态管理与组件通信<br>数据从service里面拿到，然后放到store里，再传到页面，页面再传递给它调用的组件里<br><strong>Result</strong></li>
</ol>
<ul>
<li>用户体验提升：<br>动态增长动画：数字递增效果增强数据表现力，提升用户感知。<br>交互优化：Tooltip 提示和响应式图表提升操作友好度。</li>
<li>开发效率与可维护性：<br>组件复用率 &gt; 90%：通过配置文件驱动图表和卡片组件，避免重复开发。<br>代码结构清晰：数据获取、状态管理、UI 展示解耦，维护成本降低。</li>
<li>技术价值：<br>轻量级动画库：CountUp.js 无依赖、性能优，适合快速实现数值动画。<br>ECharts 高度封装：支持多类型图表动态配置，适配不同业务场景。</li>
</ul>
<h1 id="大模型模拟的项目面试题"><a href="#大模型模拟的项目面试题" class="headerlink" title="大模型模拟的项目面试题"></a>大模型模拟的项目面试题</h1><ol>
<li><a target="_blank" rel="noopener" href="https://www.doubao.com/thread/wbfa26b13c725686d">https://www.doubao.com/thread/wbfa26b13c725686d</a></li>
<li><a target="_blank" rel="noopener" href="https://lxblog.com/qianwen/share?shareId=44568676-1c0c-4273-88b3-2a7a1ead78de">https://lxblog.com/qianwen/share?shareId=44568676-1c0c-4273-88b3-2a7a1ead78de</a></li>
</ol>
<h1 id="其他：网络请求是如何处理的"><a href="#其他：网络请求是如何处理的" class="headerlink" title="其他：网络请求是如何处理的"></a>其他：网络请求是如何处理的</h1><p>项目采用老师封装好的Axios实例（诚实说明），包含请求拦截器自动添加Token，响应拦截器统一处理错误码<br>项目中网络请求层采用教学提供的封装方案，我的任务重点是：<br><strong>业务逻辑对接</strong>：<br>   <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在Pinia store中调用封装好的post方法</span></span><br><span class="line"><span class="title function_">loginAccountAction</span>(<span class="params"><span class="attr">account</span>: <span class="title class_">IAccount</span></span>) &#123;</span><br><span class="line">  <span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, account).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    localCache.<span class="title function_">setCache</span>(<span class="variable constant_">LOGIN_TOKEN</span>, res.<span class="property">token</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="零碎梳理版（按项目实现顺序梳理）"><a href="#零碎梳理版（按项目实现顺序梳理）" class="headerlink" title="零碎梳理版（按项目实现顺序梳理）"></a>零碎梳理版（按项目实现顺序梳理）</h1><h2 id="登录模块-1"><a href="#登录模块-1" class="headerlink" title="登录模块"></a>登录模块</h2><h3 id="Element-Plus集成："><a href="#Element-Plus集成：" class="headerlink" title="Element-Plus集成："></a>Element-Plus集成：</h3><p>按需引入，要进行vite插件配置<br>ElMessage引入；图标引入<br>后续tab布局、按钮、span、复选选项、账号密码验证、小图标都是通过element-plus组件库组件实现的</p>
<h3 id="登录页面Panel"><a href="#登录页面Panel" class="headerlink" title="登录页面Panel"></a>登录页面Panel</h3><h4 id="整体界面搭建"><a href="#整体界面搭建" class="headerlink" title="整体界面搭建"></a>整体界面搭建</h4><p>标题，tabs，记住密码复选框、忘记密码链接，立即登录按钮<br>背景搭建：100vw&#x2F;vh</p>
<h4 id="登录tabs："><a href="#登录tabs：" class="headerlink" title="登录tabs："></a>登录tabs：</h4><p>label插槽的使用<br>tab属性栏如何判断在哪个pane标签页：<br><code>&lt;el-tabs 绑定v-model＝&quot;activeNave&quot;&gt;</code><br>&#96;const activeName&#x3D;ref(‘account’) &#x2F;&#x2F;默认选中account<br>两个el-tabs-pane 添加name属性<br>用activeName判断是账号登录还是手机登录</p>
<h4 id="账号登录form"><a href="#账号登录form" class="headerlink" title="账号登录form"></a>账号登录form</h4><p>账号密码输入框：<br>表单组件el-form&#x2F;el-form-item&#x2F;el-form-input来搭建</p>
<h4 id="form的校验规则"><a href="#form的校验规则" class="headerlink" title="form的校验规则"></a>form的校验规则</h4><p>表单校验规则配置在el-form上在el-form的 :rules&#x3D;”rules”属性上，校验规则rules模仿官方文档</p>
<blockquote>
<p>ref为了拿到el-from<br>el-form  label-with&#x3D;”表单宽度px”</p>
</blockquote>
<h4 id="点击立即登录"><a href="#点击立即登录" class="headerlink" title="点击立即登录"></a>点击立即登录</h4><p>父亲组件发生点击，执行子组件的函数<br>defineExpose()导出函数<br>重点代码：<br><code>const accountRef=ref&lt;instanceType&lt;type PaneAccount&gt;&gt;</code></p>
<h3 id="登录的操作"><a href="#登录的操作" class="headerlink" title="登录的操作"></a>登录的操作</h3><h4 id="form通过校验"><a href="#form通过校验" class="headerlink" title="form通过校验"></a>form通过校验</h4><ol>
<li>通过formRef.validate(回调)<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loginAction</span>(<span class="params"></span>)&#123;</span><br><span class="line">    formRef.<span class="property">value</span>?.<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(valid)&#123;<span class="comment">//获取用户输入的帐号和密码</span></span><br><span class="line"><span class="keyword">const</span> name = account.<span class="property">name</span></span><br><span class="line"><span class="keyword">const</span> password = account.<span class="property">password</span></span><br><span class="line"><span class="comment">//2.向服务器发送网络请求(携带账号和密码)</span></span><br><span class="line">loginstore.<span class="title function_">loginAccountAction</span>(&#123; name,password &#125;)&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;oops，请您输入正确的格式后再操作&#x27;</span>)&#125;&#125;)&#125;</span><br></pre></td></tr></table></figure></li>
<li>登录接口调用post请求;</li>
<li>data:{name,password}</li>
</ol>
<h3 id="将登录的操作放到store中"><a href="#将登录的操作放到store中" class="headerlink" title="将登录的操作放到store中"></a>将登录的操作放到store中</h3><h3 id="IAccount类型的定义-类型复用封装"><a href="#IAccount类型的定义-类型复用封装" class="headerlink" title="IAccount类型的定义(类型复用封装):"></a>IAccount类型的定义(类型复用封装):</h3><p>类型复用抽取:<br>一个对象类型在很多地方复用时，抽到type里 </p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">IAccount</span>&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="built_in">string</span>;</span><br><span class="line"><span class="attr">password</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用导入<br><code>const type &#123;IAccout&#125; from &#39;@/types&#39;</code><br><code>function  balabalafn(account:IAccount)&#123;&#125;</code><br><strong>细节—教训：token这种字符串常量，抽取成常量，避免拼写错误</strong><code>const LOGIN_TOKEN＝&#39;login/token&#39;</code></p>
<h3 id="token缓存和cache封装"><a href="#token缓存和cache封装" class="headerlink" title="token缓存和cache封装"></a>token缓存和cache封装</h3><h4 id="永久保存用户token"><a href="#永久保存用户token" class="headerlink" title="永久保存用户token"></a>永久保存用户token</h4><p>可以localStorage－会话关闭依然保留，除非手动删<br>sessionStorage－会话关闭会消失<br>store&#x2F;state中toke:localStorage.getItem(‘token’)??’’<br>保存token图片（）封装前</p>
<h4 id="封装本地缓存工具："><a href="#封装本地缓存工具：" class="headerlink" title="封装本地缓存工具："></a>封装本地缓存工具：</h4><p>utils&#x2F;cache.ts，封装了localStorage和sessionStorage的方法<br>原因，如果要保存对象的话不可以直接<br><code>localStorage.setItem(&#39;userInfo&#39;,&#123;name:&#39;Nie&#39;,password:&#39;123456&#39;&#125;)//&#123;object:object&#125;</code><br>需要<code>localStorage.setItem(&#39;userInfo&#39;,JSON.stringify(&#123;&#125;))</code><br>获取数据同理<br><strong>这就是“自动序列化&#x2F;反序列化”：工具内部自动处理对象与字符串的转换</strong><br>进行封装方便处理对象数据</p>
<h2 id="登录模块完善"><a href="#登录模块完善" class="headerlink" title="登录模块完善"></a>登录模块完善</h2><h3 id="在拦截器添加携带token"><a href="#在拦截器添加携带token" class="headerlink" title="在拦截器添加携带token"></a>在拦截器添加携带token</h3><h3 id="导航守卫（对main开头的页面进行token判断）"><a href="#导航守卫（对main开头的页面进行token判断）" class="headerlink" title="导航守卫（对main开头的页面进行token判断）"></a>导航守卫（对main开头的页面进行token判断）</h3><h3 id="完善–记住秘密功能"><a href="#完善–记住秘密功能" class="headerlink" title="完善–记住秘密功能"></a>完善–记住秘密功能</h3><h3 id="main权限管理–RBAC基于角色访问控制（权限管理）"><a href="#main权限管理–RBAC基于角色访问控制（权限管理）" class="headerlink" title="main权限管理–RBAC基于角色访问控制（权限管理）"></a>main权限管理–RBAC基于角色访问控制（权限管理）</h3><h3 id="请求用户信息–根据用户获取用户信息；"><a href="#请求用户信息–根据用户获取用户信息；" class="headerlink" title="请求用户信息–根据用户获取用户信息；"></a>请求用户信息–根据用户获取用户信息；</h3><h3 id="请求菜单信息–根据用户信息中的角色id，获取菜单信息"><a href="#请求菜单信息–根据用户信息中的角色id，获取菜单信息" class="headerlink" title="请求菜单信息–根据用户信息中的角色id，获取菜单信息"></a>请求菜单信息–根据用户信息中的角色id，获取菜单信息</h3><h3 id="对用户信息和用户菜单进行本地缓存"><a href="#对用户信息和用户菜单进行本地缓存" class="headerlink" title="对用户信息和用户菜单进行本地缓存"></a>对用户信息和用户菜单进行本地缓存</h3><h2 id="首页界面搭建"><a href="#首页界面搭建" class="headerlink" title="首页界面搭建"></a>首页界面搭建</h2><h3 id="整体布局ElContainer"><a href="#整体布局ElContainer" class="headerlink" title="整体布局ElContainer"></a>整体布局ElContainer</h3><h3 id="侧边栏菜单Menu组件"><a href="#侧边栏菜单Menu组件" class="headerlink" title="侧边栏菜单Menu组件"></a>侧边栏菜单Menu组件</h3><ol>
<li>分组ElMenu组件的作用</li>
<li>手动搭建整个菜单结构</li>
<li>根据userMenu动态遍历渲染</li>
</ol>
<h3 id="头部Header组件"><a href="#头部Header组件" class="headerlink" title="头部Header组件"></a>头部Header组件</h3><h4 id="menu-icon图标（折叠菜单功能）"><a href="#menu-icon图标（折叠菜单功能）" class="headerlink" title="menu-icon图标（折叠菜单功能）"></a>menu-icon图标（折叠菜单功能）</h4><ol>
<li>动态组件切换图标展示</li>
<li>父组件－－切换aside宽度</li>
<li>兄弟组件－－菜单的折叠与展开</li>
</ol>
<h4 id="折叠菜单详细梳理（组件通信）"><a href="#折叠菜单详细梳理（组件通信）" class="headerlink" title="折叠菜单详细梳理（组件通信）"></a>折叠菜单详细梳理（组件通信）</h4><p>header组件图标控制兄弟组件（菜单栏）的展开与折叠；控制父组件对menu组件宽度的调整<br>涉及的部分：</p>
<ol>
<li>header组件－－声明isFold变量记录展开&#x2F;折叠的状态</li>
<li>header组件－－用动态组件实现不同状态的图标切换（这样不需要v-if，优化代码）<br><code>&lt;component :is=&quot;isFold ? &#39;Expand&#39; : &#39;Fold&#39;&quot; /&gt;</code></li>
<li>el-menu组件－－有控制菜单展示与折叠的属性<code>:collapse=&quot;true/false&quot;</code>，</li>
<li>父组件－－菜单的宽度是自己设置的，要根据header子组件的状态，动态设置菜单宽度<br>通信梳理：父组件main.vue中有header组件和menu组件，header组件中有动态图标，menu组件的菜单根据header图标的状态进行折叠&#x2F;展开，同时父组件对menu组件动态进行菜单宽度设置<br>子组件内部发生改变，要改变父组件设置的宽度的值<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isFold = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">const</span> emit = <span class="title function_">defineEmits</span>([<span class="string">&#x27;flodchange&#x27;</span>])</span><br><span class="line">unction <span class="title class_">HandleMuneIconClick</span>()&#123;</span><br><span class="line">isFold.<span class="property">value</span> = !isFole.<span class="property">value</span></span><br><span class="line"><span class="title function_">emit</span>(<span class="string">&#x27;foldchange&#x27;</span>,isFold,value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
父组件监听；根据子组件值动态调整宽度<br><code>&lt;el-aside :width = &quot;isFold ? &#39;60px&#39; : &#39;210px&#39; &quot;&gt;</code><br><code>&lt;main-header @fold-change=&quot;handleFoldChaneg&quot;/&gt;</code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> idFold = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleFoldChange</span>(<span class="params"><span class="attr">flag</span>:<span class="built_in">boolean</span></span>)&#123;</span><br><span class="line">isFold.<span class="property">value</span>=flag</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
父组件把isFole作为属性传递给menu子组件<br><code>&lt;main-menu :is-fold=&quot;isFold&quot;/&gt;</code><br>menu子组件接受父组件的属性<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">defineProps</span>(&#123;</span><br><span class="line"> <span class="attr">isFold</span>:&#123;</span><br><span class="line">  <span class="attr">type</span>:<span class="title class_">Boolean</span>,</span><br><span class="line">  <span class="attr">default</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<code>:collapse=&quot;isFold&quot;</code></li>
</ol>
<h3 id="路由注册与页面跳转（非动态路由）"><a href="#路由注册与页面跳转（非动态路由）" class="headerlink" title="路由注册与页面跳转（非动态路由）"></a>路由注册与页面跳转（非动态路由）</h3><p>注册所有的路由<br>根据角色动态渲染菜单</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Melon_Nie</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/06/04/23-myselfUp/">http://example.com/2025/06/04/23-myselfUp/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">Melon_Nie的月光橘海</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a><a class="post-meta__tags" href="/tags/vue/">vue</a><a class="post-meta__tags" href="/tags/%E9%A1%B9%E7%9B%AE/">项目</a></div><div class="post-share"><div class="social-share" data-image="/./myimg/lolcute12.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/06/07/39-bigModel/" title="本地大模型部署--仿DeepSeek"><img class="cover" src="/./myimg/girl15.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">本地大模型部署--仿DeepSeek</div></div><div class="info-2"><div class="info-item-1">大模型部署实训课笔记(基础部署)</div></div></div></a><a class="pagination-related" href="/2025/06/03/38-%E7%AE%97%E6%B3%95%E9%A2%98/" title="面试题--算法题"><img class="cover" src="/./myimg/girl26.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">面试题--算法题</div></div><div class="info-2"><div class="info-item-1">算法题学习小记</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/04/10/36-vue%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Vue面试题"><img class="cover" src="/./myimg/lolcute1.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-10</div><div class="info-item-2">Vue面试题</div></div><div class="info-2"><div class="info-item-1">Vue面试题</div></div></div></a><a class="pagination-related" href="/2024/10/01/10-vue2%E5%95%86%E5%9F%8E%E8%B4%AD%E7%89%A9%E9%A1%B9%E7%9B%AE/" title="vue2项目练习-购物商城项目"><img class="cover" src="/./myimg/lolcute10.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-01</div><div class="info-item-2">vue2项目练习-购物商城项目</div></div><div class="info-2"><div class="info-item-1">vue2项目练习-购物商城项目学习笔记（跟做黑马程序员vue2购物商城项目）</div></div></div></a><a class="pagination-related" href="/2024/11/12/13-vue3%E5%A4%A7%E4%BA%8B%E4%BB%B6%E9%A1%B9%E7%9B%AE/" title="vue3项目练习-大事件项目（完成3&#x2F;4）"><img class="cover" src="/./myimg/girl10.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-12</div><div class="info-item-2">vue3项目练习-大事件项目（完成3&#x2F;4）</div></div><div class="info-2"><div class="info-item-1">vue3项目练习-大事件项目学习笔记（跟做黑马程序员vue3大项目），未全部完成</div></div></div></a><a class="pagination-related" href="/2025/04/15/23-nievuets/" title="项目篇-Vue3+TS实现后台管理系统"><img class="cover" src="/./myimg/lolcute2.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-15</div><div class="info-item-2">项目篇-Vue3+TS实现后台管理系统</div></div><div class="info-2"><div class="info-item-1">Vue3+TS实现小聂后台管理系统</div></div></div></a><a class="pagination-related" href="/2025/01/09/01-html%E9%A2%98/" title="HTML-题目"><img class="cover" src="/./myimg/lolcute9.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-09</div><div class="info-item-2">HTML-题目</div></div><div class="info-2"><div class="info-item-1">html复习题目</div></div></div></a><a class="pagination-related" href="/2025/01/15/02-css%E9%A2%98/" title="css-题目"><img class="cover" src="/./myimg/girl22.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-15</div><div class="info-item-2">css-题目</div></div><div class="info-2"><div class="info-item-1">css复习整理</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/./myimg/avatar1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Melon_Nie</div><div class="author-info-description">欢迎访问，祝你拥有美好的一天~</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">55</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Nie7-Melon"><i class="fab fa-github"></i><span>我的github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Nie7-Melon" target="_blank" title="Github"><i class="fab fa-github" style="color: #fad701;"></i></a><a class="social-icon" href="https://gitee.com/melon-nie" target="_blank" title="Gitee"><i class="fa-solid fa-house" style="color: #fad701;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客，如果能对你有帮助就更好啦</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-number">1.</span> <span class="toc-text">写在前面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AESTAR%E6%B3%95%E5%88%99%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">项目STAR法则：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="toc-number">1.2.</span> <span class="toc-text">技术栈</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97"><span class="toc-number">2.</span> <span class="toc-text">登录模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">核心实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">3.</span> <span class="toc-text">权限管理模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">核心实现：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#STAR%E6%B3%95%E5%88%99%E6%8F%8F%E8%BF%B0%EF%BC%9A"><span class="toc-number">3.1.1.</span> <span class="toc-text">STAR法则描述：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.</span> <span class="toc-text">动态路由权限系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0-1"><span class="toc-number">4.1.</span> <span class="toc-text">核心实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E6%98%BE%E8%91%97%E6%8F%90%E5%8D%87"><span class="toc-number">4.1.1.</span> <span class="toc-text">1. 开发效率显著提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%B4%E6%8A%A4%E6%88%90%E6%9C%AC%E5%A4%A7%E5%B9%85%E9%99%8D%E4%BD%8E"><span class="toc-number">4.1.2.</span> <span class="toc-text">2. 维护成本大幅降低</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%E5%A2%9E%E5%BC%BA"><span class="toc-number">4.1.3.</span> <span class="toc-text">3. 可扩展性增强</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8A%80%E6%9C%AF%E4%BB%B7%E5%80%BC"><span class="toc-number">4.1.4.</span> <span class="toc-text">4. 技术价值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text">数据可视化模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%EF%BC%9A-1"><span class="toc-number">5.1.</span> <span class="toc-text">核心实现：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#STAR%E6%B3%95%E5%88%99%E6%8F%8F%E8%BF%B0%EF%BC%9A-1"><span class="toc-number">5.1.1.</span> <span class="toc-text">STAR法则描述：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%A8%A1%E6%8B%9F%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">大模型模拟的项目面试题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%EF%BC%9A%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%98%AF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E7%9A%84"><span class="toc-number">7.</span> <span class="toc-text">其他：网络请求是如何处理的</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%B6%E7%A2%8E%E6%A2%B3%E7%90%86%E7%89%88%EF%BC%88%E6%8C%89%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E9%A1%BA%E5%BA%8F%E6%A2%B3%E7%90%86%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">零碎梳理版（按项目实现顺序梳理）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97-1"><span class="toc-number">8.1.</span> <span class="toc-text">登录模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Element-Plus%E9%9B%86%E6%88%90%EF%BC%9A"><span class="toc-number">8.1.1.</span> <span class="toc-text">Element-Plus集成：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2Panel"><span class="toc-number">8.1.2.</span> <span class="toc-text">登录页面Panel</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E7%95%8C%E9%9D%A2%E6%90%AD%E5%BB%BA"><span class="toc-number">8.1.2.1.</span> <span class="toc-text">整体界面搭建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E5%BD%95tabs%EF%BC%9A"><span class="toc-number">8.1.2.2.</span> <span class="toc-text">登录tabs：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95form"><span class="toc-number">8.1.2.3.</span> <span class="toc-text">账号登录form</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#form%E7%9A%84%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99"><span class="toc-number">8.1.2.4.</span> <span class="toc-text">form的校验规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E7%AB%8B%E5%8D%B3%E7%99%BB%E5%BD%95"><span class="toc-number">8.1.2.5.</span> <span class="toc-text">点击立即登录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">8.1.3.</span> <span class="toc-text">登录的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#form%E9%80%9A%E8%BF%87%E6%A0%A1%E9%AA%8C"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">form通过校验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E7%99%BB%E5%BD%95%E7%9A%84%E6%93%8D%E4%BD%9C%E6%94%BE%E5%88%B0store%E4%B8%AD"><span class="toc-number">8.1.4.</span> <span class="toc-text">将登录的操作放到store中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IAccount%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AE%9A%E4%B9%89-%E7%B1%BB%E5%9E%8B%E5%A4%8D%E7%94%A8%E5%B0%81%E8%A3%85"><span class="toc-number">8.1.5.</span> <span class="toc-text">IAccount类型的定义(类型复用封装):</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#token%E7%BC%93%E5%AD%98%E5%92%8Ccache%E5%B0%81%E8%A3%85"><span class="toc-number">8.1.6.</span> <span class="toc-text">token缓存和cache封装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B8%E4%B9%85%E4%BF%9D%E5%AD%98%E7%94%A8%E6%88%B7token"><span class="toc-number">8.1.6.1.</span> <span class="toc-text">永久保存用户token</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-number">8.1.6.2.</span> <span class="toc-text">封装本地缓存工具：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97%E5%AE%8C%E5%96%84"><span class="toc-number">8.2.</span> <span class="toc-text">登录模块完善</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B7%BB%E5%8A%A0%E6%90%BA%E5%B8%A6token"><span class="toc-number">8.2.1.</span> <span class="toc-text">在拦截器添加携带token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB%EF%BC%88%E5%AF%B9main%E5%BC%80%E5%A4%B4%E7%9A%84%E9%A1%B5%E9%9D%A2%E8%BF%9B%E8%A1%8Ctoken%E5%88%A4%E6%96%AD%EF%BC%89"><span class="toc-number">8.2.2.</span> <span class="toc-text">导航守卫（对main开头的页面进行token判断）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%96%84%E2%80%93%E8%AE%B0%E4%BD%8F%E7%A7%98%E5%AF%86%E5%8A%9F%E8%83%BD"><span class="toc-number">8.2.3.</span> <span class="toc-text">完善–记住秘密功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E2%80%93RBAC%E5%9F%BA%E4%BA%8E%E8%A7%92%E8%89%B2%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%88%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%EF%BC%89"><span class="toc-number">8.2.4.</span> <span class="toc-text">main权限管理–RBAC基于角色访问控制（权限管理）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E2%80%93%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%EF%BC%9B"><span class="toc-number">8.2.5.</span> <span class="toc-text">请求用户信息–根据用户获取用户信息；</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%8F%9C%E5%8D%95%E4%BF%A1%E6%81%AF%E2%80%93%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E4%B8%AD%E7%9A%84%E8%A7%92%E8%89%B2id%EF%BC%8C%E8%8E%B7%E5%8F%96%E8%8F%9C%E5%8D%95%E4%BF%A1%E6%81%AF"><span class="toc-number">8.2.6.</span> <span class="toc-text">请求菜单信息–根据用户信息中的角色id，获取菜单信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%92%8C%E7%94%A8%E6%88%B7%E8%8F%9C%E5%8D%95%E8%BF%9B%E8%A1%8C%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98"><span class="toc-number">8.2.7.</span> <span class="toc-text">对用户信息和用户菜单进行本地缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E7%95%8C%E9%9D%A2%E6%90%AD%E5%BB%BA"><span class="toc-number">8.3.</span> <span class="toc-text">首页界面搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E5%B8%83%E5%B1%80ElContainer"><span class="toc-number">8.3.1.</span> <span class="toc-text">整体布局ElContainer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%8F%9C%E5%8D%95Menu%E7%BB%84%E4%BB%B6"><span class="toc-number">8.3.2.</span> <span class="toc-text">侧边栏菜单Menu组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E9%83%A8Header%E7%BB%84%E4%BB%B6"><span class="toc-number">8.3.3.</span> <span class="toc-text">头部Header组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#menu-icon%E5%9B%BE%E6%A0%87%EF%BC%88%E6%8A%98%E5%8F%A0%E8%8F%9C%E5%8D%95%E5%8A%9F%E8%83%BD%EF%BC%89"><span class="toc-number">8.3.3.1.</span> <span class="toc-text">menu-icon图标（折叠菜单功能）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%98%E5%8F%A0%E8%8F%9C%E5%8D%95%E8%AF%A6%E7%BB%86%E6%A2%B3%E7%90%86%EF%BC%88%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%EF%BC%89"><span class="toc-number">8.3.3.2.</span> <span class="toc-text">折叠菜单详细梳理（组件通信）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%B3%A8%E5%86%8C%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%EF%BC%88%E9%9D%9E%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%EF%BC%89"><span class="toc-number">8.3.4.</span> <span class="toc-text">路由注册与页面跳转（非动态路由）</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/06/37-npm%E5%92%8C%E5%BA%93%E9%9D%A2%E8%AF%95%E9%A2%98/" title="npm和库"><img src="/./myimg/rabbit3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="npm和库"/></a><div class="content"><a class="title" href="/2025/07/06/37-npm%E5%92%8C%E5%BA%93%E9%9D%A2%E8%AF%95%E9%A2%98/" title="npm和库">npm和库</a><time datetime="2025-07-06T15:09:52.000Z" title="发表于 2025-07-06 23:09:52">2025-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/02/45-antDesign/" title="react--Ant Design组件库使用"><img src="/./myimg/lolcute11.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react--Ant Design组件库使用"/></a><div class="content"><a class="title" href="/2025/07/02/45-antDesign/" title="react--Ant Design组件库使用">react--Ant Design组件库使用</a><time datetime="2025-07-02T13:39:52.000Z" title="发表于 2025-07-02 21:39:52">2025-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/28/40-react/" title="react--学习笔记"><img src="/./myimg/girl3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react--学习笔记"/></a><div class="content"><a class="title" href="/2025/06/28/40-react/" title="react--学习笔记">react--学习笔记</a><time datetime="2025-06-28T05:09:52.000Z" title="发表于 2025-06-28 13:09:52">2025-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/22/43-machine/" title="机器学习笔记"><img src="/./myimg/lolcute9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="机器学习笔记"/></a><div class="content"><a class="title" href="/2025/06/22/43-machine/" title="机器学习笔记">机器学习笔记</a><time datetime="2025-06-22T06:09:52.000Z" title="发表于 2025-06-22 14:09:52">2025-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/18/42-font-back/" title="前后端交互"><img src="/./myimg/girl26.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前后端交互"/></a><div class="content"><a class="title" href="/2025/06/18/42-font-back/" title="前后端交互">前后端交互</a><time datetime="2025-06-18T15:09:52.000Z" title="发表于 2025-06-18 23:09:52">2025-06-18</time></div></div></div></div></div></div></main><footer id="footer" style="background: linear-gradient(135deg,#FFE985 10%,#FA742B 100%);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Melon_Nie</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-vercel-nine-ashen.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-vercel-nine-ashen.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>